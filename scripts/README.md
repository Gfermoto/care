# –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–¥–∞—Ä–æ–º LD2450

–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–∞–¥–∞—Ä–∞ —á–µ—Ä–µ–∑ USB-UART.

## üìÅ –§–∞–π–ª—ã

### `connect_radar.sh` - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–¥–∞—Ä–∞ –≤ WSL

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–¥–∞—Ä–∞ –∫ WSL —á–µ—Ä–µ–∑ `usbipd`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./scripts/connect_radar.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç USB —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —á–µ—Ä–µ–∑ `usbipd-win`
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç —Ä–∞–¥–∞—Ä –∫ WSL2
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞ `/dev/ttyUSB0` –∏–ª–∏ `/dev/ttyUSB1`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–¥–∞—Ä–æ–º

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Windows —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º `usbipd-win`
- WSL2
- –†–∞–¥–∞—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ USB –ø–æ—Ä—Ç—É Windows

---

### `radar.py` - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–¥–∞—Ä–∞

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–¥–∞—Ä–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–∞—Ä—Å–∏–Ω–≥–æ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ LD2450

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
python3 scripts/radar.py
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ `/dev/ttyUSB0` –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ **256000 baud**
- –ò—â–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∞–∫–µ—Ç–æ–≤ **`AA FF`** (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª LD2450)
- –ü–∞—Ä—Å–∏—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã X, Y –∏–∑ –ø–∞–∫–µ—Ç–æ–≤
- –í—ã–≤–æ–¥–∏—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ü–µ–ª–µ–π –≤ –º–∏–ª–ª–∏–º–µ—Ç—Ä–∞—Ö
- –°—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üì° –†–∞–¥–∞—Ä HLK-LD2450
–°–∫–æ—Ä–æ—Å—Ç—å: 256000 –±–æ–¥
–ü—Ä–æ—Ç–æ–∫–æ–ª: AA FF
==================================================
–ü—Ä–æ–±—É–µ–º 230400 –±–æ–¥... ‚ùå
–ü—Ä–æ–±—É–µ–º 250000 –±–æ–¥... ‚ùå
–ü—Ä–æ–±—É–µ–º 256000 –±–æ–¥... ‚úÖ
‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –Ω–∞ 256000 –±–æ–¥
–ò—â–µ–º –¥–∞–Ω–Ω—ã–µ —Ä–∞–¥–∞—Ä–∞ (AA FF)...

üéØ x: 1234 –º–º, y: 5678 –º–º
üéØ x: 1235 –º–º, y: 5679 –º–º
--- –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ 20 —Ü–µ–ª–µ–π ---
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Python 3
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `pyserial`: `pip install pyserial`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–±—É–µ—Ç —Ä–∞–∑–Ω—ã–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ (230400, 250000, 256000, 115200)
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ LD2450
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–Ω–∞–∫–æ–≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- –í—ã–≤–æ–¥ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ –º–∏–ª–ª–∏–º–µ—Ç—Ä–∞—Ö

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å UART
pip install pyserial
```

---

## üìã –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–¥–∞—Ä–∞ (WSL)

```bash
./scripts/connect_radar.sh
```

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö

```bash
python3 scripts/radar.py
```

---

## üîç –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**–ü–æ—Ä—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–¥–∞—Ä–∞ –∫ USB –ø–æ—Ä—Ç—É
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ `connect_radar.sh` –¥–ª—è WSL
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã: `ls -la /dev/ttyUSB*`

**–î–∞–Ω–Ω—ã–µ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:**
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ä–∞–¥–∞—Ä –≤–∫–ª—é—á–µ–Ω –∏ –ø–∏—Ç–∞–µ—Ç—Å—è –æ—Ç 5V
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å UART - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **256000 baud**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ TX/RX (–ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω–æ–µ)

**–û—à–∏–±–∫–∞ "Permission denied":**
```bash
sudo chmod 666 /dev/ttyUSB0
# –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É dialout
sudo usermod -a -G dialout $USER
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

–°–º. `GUIDE_ESPHome_HASSio_UART.md` –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ USB-UART –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ä–∞–¥–∞—Ä–∞.

