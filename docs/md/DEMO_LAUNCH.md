# C.A.R.E. Demo - ะัะบะพะฒะพะดััะฒะพ ะฟะพ ะทะฐะฟััะบั

## ๐ฏ ะัััััะน ะทะฐะฟััะบ

### ะะฒัะพะผะฐัะธัะตัะบะธะน ะทะฐะฟััะบ (ัะตะบะพะผะตะฝะดัะตััั)
```bash
cd /home/gfer/CARE
./scripts/launch_care_demo.sh
```

### ะััะฝะพะน ะทะฐะฟััะบ

#### 1. ะะพะดะณะพัะพะฒะบะฐ ะพะบััะถะตะฝะธั
```bash
cd /home/gfer/CARE
source /opt/ros/jazzy/setup.bash
source services/ros2/install/setup.bash
```

#### 2. ะะฐะฟััะบ ะบะพะผะฟะพะฝะตะฝัะพะฒ

**ะขะตัะผะธะฝะฐะป 1 - CAN Bridge (Mock ัะตะถะธะผ):**
```bash
ros2 run care_can_bridge_node can_bridge.py --ros-args -p mode:=mock
```

**ะขะตัะผะธะฝะฐะป 2 - Demo Node (C++):**
```bash
ros2 run care_demo_node care_demo_node
```

**ะขะตัะผะธะฝะฐะป 3 - RViz2:**
```bash
rviz2 -d services/ros2/care_demo_node/config/care_demo.rviz
```

## ๐จ ะงัะพ ะฒั ัะฒะธะดะธัะต ะฒ RViz2

### ะะฝะธะผะธัะพะฒะฐะฝะฝัะต ัะตะปะธ (5 ัั)
- โ **ะะฐัะบะฐะดะฝะพะต ะฟะพัะฒะปะตะฝะธะต**: ะบะฐะถะดัั ัะตะบัะฝะดั ะฟะพัะฒะปัะตััั ะฝะพะฒะฐั ัะตะปั
- โ **ะัะตะผั ะถะธะทะฝะธ**: ะบะฐะถะดะฐั ัะตะปั ะถะธะฒัั 5 ัะตะบัะฝะด
- โ **ะะปะฐะฒะฝะพััั**: fade in (0.5 ัะตะบ) ะธ fade out (0.5 ัะตะบ)
- โ **ะะฒะธะถะตะฝะธะต**: ัะธะฝััะพะธะดะฐะปัะฝัะต ััะฐะตะบัะพัะธะธ ะฒะฝัััะธ FOV
- โ **ะฆะฒะตั**: 
  - ๐ข ะะตะปัะฝัะน - ัะตะปั ะฒะฝะต ะทะพะฝั ะพะฟะฐัะฝะพััะธ (> 1.5ะผ)
  - ๐ด ะัะฐัะฝัะน - ัะตะปั ะฒ ะทะพะฝะต ะพะฟะฐัะฝะพััะธ (< 1.5ะผ)

### ะะพะปะต ะทัะตะฝะธั (FOV) LD2450
- ๐ต **ะะพัะธะทะพะฝัะฐะปัะฝัะน FOV**: ยฑ30ยฐ (ะณะพะปัะฑะพะน ัะฒะตั)
- ๐ข **ะะตััะธะบะฐะปัะฝัะน FOV**: ยฑ17.5ยฐ (ะทะตะปัะฝัะน ัะฒะตั)
- ๐ **ะะฐะปัะฝะพััั**: 6 ะผะตััะพะฒ

### ะะพะฝะฐ ะฑะตะทะพะฟะฐัะฝะพััะธ
- ๐ด **ะะฐะดะธัั**: 1.5 ะผะตััะฐ
- ๐ฏ **ะะธะทัะฐะปะธะทะฐัะธั**: ะบัะฐัะฝัะน ะฟะพะปัะฟัะพะทัะฐัะฝัะน ัะธะปะธะฝะดั

## ๐ ะขะตัะฝะธัะตัะบะธะต ัะฐัะฐะบัะตัะธััะธะบะธ

### ROS2 ะขะพะฟะธะบะธ
| ะขะพะฟะธะบ | ะขะธะฟ | ะงะฐััะพัะฐ | ะะฟะธัะฐะฝะธะต |
|-------|-----|---------|----------|
| `/care/radar_targets` | MarkerArray | 10 ะั | ะะฝะธะผะธัะพะฒะฐะฝะฝัะต ัะตะปะธ |
| `/care/fov_visualization` | MarkerArray | 10 ะั | ะะพัะธะทะพะฝัะฐะปัะฝัะน ะธ ะฒะตััะธะบะฐะปัะฝัะน FOV |
| `/care/safety_zone` | Marker | 10 ะั | ะะพะฝะฐ ะฑะตะทะพะฟะฐัะฝะพััะธ |
| `/care/targets` | RadarTargets | 20 ะั | Typed ะดะฐะฝะฝัะต ะพั CAN bridge |
| `/care/system_status` | SystemStatus | 20 ะั | ะกัะฐััั ัะธััะตะผั |

### TF ะขัะฐะฝััะพัะผะฐัะธะธ
```
map
 โโ base_link
     โโ radar_link
```

### ROS2 ะะพะดั
- **care_can_bridge_node** - Mock ะดะฐะฝะฝัะต ะพั CAN ัะธะฝั
- **care_radar_publisher** - C++ ะฝะพะดะฐ ั ะฒะธะทัะฐะปะธะทะฐัะธะตะน ะธ TF
- **rviz** - 3D ะฒะธะทัะฐะปะธะทะฐัะธั

## ๐ ะััะฐะฝะพะฒะบะฐ ะดะตะผะพ

```bash
# ะััััะฐั ะพััะฐะฝะพะฒะบะฐ
killall -9 rviz2
pkill -f "can_bridge|care_demo"

# ะะปะธ ะบะพััะตะบัะฝะฐั ะพััะฐะฝะพะฒะบะฐ (Ctrl+C ะฒ ะบะฐะถะดะพะผ ัะตัะผะธะฝะฐะปะต)
```

## ๐ง ะะฐัััะพะนะบะฐ RViz2

### Fixed Frame
ะฃััะฐะฝะพะฒะธัะต: `map`

### Displays
1. **MarkerArray** - `/care/radar_targets` (ัะตะปะธ)
2. **MarkerArray** - `/care/fov_visualization` (FOV)
3. **Marker** - `/care/safety_zone` (ะทะพะฝะฐ ะฑะตะทะพะฟะฐัะฝะพััะธ)
4. **TF** - ััะฐะฝััะพัะผะฐัะธะธ ะบะพะพัะดะธะฝะฐั

### View
- **Type**: Orbit
- **Distance**: 8-10 ะผะตััะพะฒ
- **Pitch**: 0.5 rad (ัะผะพััะธะผ ัะฒะตััั ะฟะพะด ัะณะปะพะผ)
- **Yaw**: 0.0 rad

## ๐ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะะต ะฒะธะดะฝะพ ัะตะปะตะน ะฒ RViz2
1. ะัะพะฒะตัััะต Fixed Frame: ะดะพะปะถะตะฝ ะฑััั `map`
2. ะัะพะฒะตัััะต, ััะพ ัะพะฟะธะบะธ ะฐะบัะธะฒะฝั: `ros2 topic list | grep care`
3. ะัะพะฒะตัััะต TF: `ros2 run tf2_ros tf2_echo map radar_link`

### ะัะธะฑะบะธ TF
- ะฃะฑะตะดะธัะตัั, ััะพ ะทะฐะฟััะตะฝะฐ ะฝะพะดะฐ `care_demo_node` (C++)
- ะัะพะฒะตัััะต ะปะพะณะธ: `ros2 run care_demo_node care_demo_node` (ะฑะตะท ัะพะฝะฐ)

### ะะตั ะดะฐะฝะฝัั ะฒ ัะพะฟะธะบะฐั
- ะฃะฑะตะดะธัะตัั, ััะพ CAN bridge ะทะฐะฟััะตะฝ ะฒ Mock ัะตะถะธะผะต
- ะัะพะฒะตัััะต: `ros2 topic echo /care/targets --once`

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะธะฝัะพัะผะฐัะธั

- [ะััะธัะตะบัััะฐ ัะธััะตะผั](ARCHITECTURE.md)
- [Troubleshooting](TROUBLESHOOTING.md)
- [RViz Configuration](RVIZ_CONFIG.md)

## โ ะัะพะฒะตัะบะฐ ัะฐะฑะพัั

```bash
# 1. ะัะพะฒะตัะบะฐ ะฝะพะด
ros2 node list
# ะะพะปะถะฝะพ ะฑััั: care_can_bridge_node, care_radar_publisher, rviz

# 2. ะัะพะฒะตัะบะฐ ัะพะฟะธะบะพะฒ
ros2 topic list | grep care
# ะะพะปะถะฝะพ ะฑััั: radar_targets, fov_visualization, safety_zone, targets, system_status

# 3. ะัะพะฒะตัะบะฐ ัะฐััะพัั
ros2 topic hz /care/radar_targets
# ะะพะปะถะฝะพ ะฑััั: ~10 Hz

# 4. ะัะพะฒะตัะบะฐ TF
ros2 run tf2_ros tf2_echo map radar_link
# ะะพะปะถะฝะพ ะฟะพะบะฐะทัะฒะฐัั ััะฐะฝััะพัะผะฐัะธั
```

---

**C.A.R.E. Demo ะณะพัะพะฒะพ ะบ ะดะตะผะพะฝัััะฐัะธะธ!** ๐

