# üèóÔ∏è C.A.R.E. - –ì–∏–±—Ä–∏–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (ROS 2 –Ω–∞ —Ö–æ—Å—Ç–µ + Docker)

## üéØ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ C.A.R.E.**

### **üè† –•–æ—Å—Ç —Å–∏—Å—Ç–µ–º–∞:**
- **ROS 2** (Iron/Jazzy) - —Å–≤–µ–∂–∞—è –≤–µ—Ä—Å–∏—è
- **Node.js** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ CAN –º–æ—Å—Ç
- **CAN —É—Ç–∏–ª–∏—Ç—ã** - —Ä–∞–±–æ—Ç–∞ —Å –∂–µ–ª–µ–∑–æ–º
- **–ú–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã** - ESP32/STM32

### **üê≥ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
- **ROS 2 Humble** - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- **–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞** - –¥–ª—è ROS 2 –ø–∞–∫–µ—Ç–æ–≤

## üöÄ **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫**

### **1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –Ω–∞ —Ö–æ—Å—Ç–µ:**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 18.x
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
sudo apt-get install -y libsocketcan-dev build-essential can-utils
```

### **2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Node.js:**

```bash
cd nodejs
npm install
```

### **3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CAN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:**

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CAN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
sudo ip link set can0 up type can bitrate 500000

# –ü—Ä–æ–≤–µ—Ä–∫–∞ CAN
candump can0
```

### **4. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã:**

#### **–í–∞—Ä–∏–∞–Ω—Ç A: –¢–æ–ª—å–∫–æ Node.js (–±–µ–∑ Docker)**
```bash
# –ó–∞–ø—É—Å–∫ Node.js —Å–µ—Ä–≤–∏—Å–æ–≤
cd nodejs
npm start

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - ROS 2 (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
# ros2 launch care_ld2450_driver care.launch.py
```

#### **–í–∞—Ä–∏–∞–Ω—Ç B: –ì–∏–±—Ä–∏–¥–Ω—ã–π (Node.js + Docker ROS 2)**
```bash
# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ ROS 2 –≤ Docker
docker-compose up care-ros2

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - Node.js –Ω–∞ —Ö–æ—Å—Ç–µ
cd nodejs
npm start
```

#### **–í–∞—Ä–∏–∞–Ω—Ç C: –ü–æ–ª–Ω—ã–π Docker**
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ Docker
docker-compose up -d
```

## üîß **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**

### **Node.js –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ ROS 2 –Ω–∞ —Ö–æ—Å—Ç–µ:**

```javascript
// care-can-bridge/index.js
await rclnodejs.init();  // –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ ROS_DOMAIN_ID=0
this.rosNode = rclnodejs.createNode('care_can_bridge');
```

### **ROS 2 —Ç–æ–ø–∏–∫–∏ –¥–ª—è C.A.R.E.:**
- `/care_ld2450_driver/RadarTargets` - —Ä–∞–¥–∞—Ä–Ω—ã–µ —Ü–µ–ª–∏
- `/care_ld2450_driver/SafetyStatus` - —Å—Ç–∞—Ç—É—Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `/care_ld2450_driver/SetSafetyZone` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## üìä **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**

### **1. Node.js —Å–µ—Ä–≤–∏—Å—ã:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Dashboard
curl http://localhost:3000/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
curl http://localhost:3001/health
```

### **2. ROS 2 —Ç–æ–ø–∏–∫–∏:**
```bash
# –°–ø–∏—Å–æ–∫ —Ç–æ–ø–∏–∫–æ–≤
ros2 topic list

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–¥–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
ros2 topic echo /care_ld2450_driver/RadarTargets
```

### **3. CAN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä CAN —Å–æ–æ–±—â–µ–Ω–∏–π
candump can0

# –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
cansend can0 100#01
```

## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≥–∏–±—Ä–∏–¥–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**

### **‚úÖ –ù–∞ —Ö–æ—Å—Ç–µ (Node.js):**
- **–ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** - –ø—Ä—è–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
- **CAN –¥–æ—Å—Ç—É–ø** - –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ CAN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
- **Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –±—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–û—Ç–ª–∞–¥–∫–∞** - –ª–µ–≥—á–µ –¥–µ–±–∞–∂–∏—Ç—å

### **‚úÖ –í Docker (ROS 2):**
- **–ò–∑–æ–ª—è—Ü–∏—è** - –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–∏—Å—Ç–µ–º—É
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è ROS 2
- **–ü–æ—Ä—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ
- **–í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å** - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

## üîÑ **–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö**

```
ESP32/STM32 ‚Üí CAN ‚Üí Node.js (—Ö–æ—Å—Ç) ‚Üí ROS 2 (—Ö–æ—Å—Ç) ‚Üí –†–æ–±–æ—Ç
                    ‚Üì
              Web Dashboard (—Ö–æ—Å—Ç)
                    ‚Üì
              API Server (—Ö–æ—Å—Ç)
```

## üõ†Ô∏è **–û—Ç–ª–∞–¥–∫–∞**

### **Node.js –ª–æ–≥–∏:**
```bash
cd nodejs
npm run dev  # –° nodemon –¥–ª—è –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
```

### **ROS 2 –ª–æ–≥–∏:**
```bash
# –í Docker
docker logs care-ros2

# –ù–∞ —Ö–æ—Å—Ç–µ
ros2 node list
ros2 topic list
```

### **CAN –ª–æ–≥–∏:**
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö CAN —Å–æ–æ–±—â–µ–Ω–∏–π
candump can0

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ ID
candump can0,100:FFF  # –¢–æ–ª—å–∫–æ ID 0x100
```

## üéâ **–ò—Ç–æ–≥**

**–ì–∏–±—Ä–∏–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ C.A.R.E. –¥–∞–µ—Ç:**

- üè† **Node.js –Ω–∞ —Ö–æ—Å—Ç–µ** - –±—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ CAN –¥–æ—Å—Ç—É–ø
- üê≥ **ROS 2 –≤ Docker** - —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –∏–∑–æ–ª—è—Ü–∏—è
- üîÑ **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ-—Ä–∞–∑–Ω–æ–º—É
- üöÄ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

**C.A.R.E. –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ –≤ –ª—é–±–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏!** üõ°Ô∏è
