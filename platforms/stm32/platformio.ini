[env:stm32f407vet6]
platform = ststm32
board = black_f407ve
framework = stm32cube
monitor_speed = 115200
upload_speed = 921600

; STM32 Configuration
build_flags = 
    -DCORE_DEBUG_LEVEL=0
    -DUSE_HAL_DRIVER
    -DSTM32F407xx
    -DHSE_VALUE=8000000
    -DHSI_VALUE=16000000
    -DLSE_VALUE=32768
    -DLSI_VALUE=32000
    -DPREFER_SPEED_OVER_SIZE=1

; Libraries
lib_deps = 
    RBEGamer/HLK-LD2450@^1.0.0

; Upload settings
upload_protocol = stlink
upload_port = /dev/ttyUSB0

; Monitor settings
monitor_port = /dev/ttyUSB0
monitor_filters = 
    default
    time

; Debug configuration
debug_tool = stlink
debug_init_break = tbreak main
debug_load_mode = manual

; Board configuration
board_build.core = stm32
board_build.variant = STM32F407VET6
board_build.f_cpu = 168000000L
board_build.f_flash = 20000000L
board_build.flash_size = 512KB
board_build.ram_size = 192KB

; USB settings
board_build.usb_product = "C.A.R.E. Radar Module STM32"
board_build.usb_manufacturer = "CARE Project"
